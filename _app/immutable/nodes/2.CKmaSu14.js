import{s as X,e as m,t as qe,c as v,b as S,d as Le,f as T,p as h,U as M,i as B,h as d,M as W,j as Ae,n as j,w as Te,k as ye,V as be,W as ke,a as I,g as q,L as N,r as ee,X as De,O as R,K as Se,Y as de}from"../chunks/scheduler.DiyRr6I9.js";import{S as z,i as Y,a as w,g as Ee,c as Ce,t as O,b as Q,d as Z,m as $,e as x,f as _e}from"../chunks/index.Bj4FBWsq.js";import{d as Ie,a as We,b as we,c as Ne}from"../chunks/store.B4E-Z7sZ.js";import"../chunks/entry.X3-gBq6m.js";function te(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const Oe=!0,et=Object.freeze(Object.defineProperty({__proto__:null,prerender:Oe},Symbol.toStringTag,{value:"Module"}));function Be(t){let e,l=(t[3][t[0]]??t[0])+"",a,n,r;return{c(){e=m("span"),a=qe(l),this.h()},l(s){e=v(s,"SPAN",{title:!0,class:!0});var o=S(e);a=Le(o,l),o.forEach(T),this.h()},h(){h(e,"title",t[0]),h(e,"class","svelte-89o6b5"),M(e,"hovered",t[1]),M(e,"translated",t[0]in t[3]),M(e,"searched",t[2])},m(s,o){B(s,e,o),d(e,a),n||(r=[W(e,"mouseover",t[4]),W(e,"mouseleave",t[5]),W(e,"focus",t[4]),W(e,"blur",t[5]),W(e,"click",t[6])],n=!0)},p(s,[o]){o&9&&l!==(l=(s[3][s[0]]??s[0])+"")&&Ae(a,l),o&1&&h(e,"title",s[0]),o&2&&M(e,"hovered",s[1]),o&9&&M(e,"translated",s[0]in s[3]),o&4&&M(e,"searched",s[2])},i:j,o:j,d(s){s&&T(e),n=!1,Te(r)}}}function Pe(t,e,l){let a;ye(t,Ie,u=>l(3,a=u));const n=be();function r(){n("hover",i)}function s(){n("hover",null)}function o(){n("click",null)}let{token:i}=e,{hovered:c}=e,{searched:f}=e;return t.$$set=u=>{"token"in u&&l(0,i=u.token),"hovered"in u&&l(1,c=u.hovered),"searched"in u&&l(2,f=u.searched)},[i,c,f,a,r,s,o]}class Ve extends z{constructor(e){super(),Y(this,e,Pe,Be,X,{token:0,hovered:1,searched:2})}}function pe(t,e,l){const a=t.slice();return a[9]=e[l],a[11]=l,a}function me(t,e,l){const a=t.slice();return a[12]=e[l],a[14]=l,a}function ve(t){let e,l;function a(){return t[7](t[12])}return e=new Ve({props:{token:t[12],hovered:t[2]===t[12],searched:ce(t[12],t[0],t[1],!0)}}),e.$on("hover",t[4]),e.$on("click",a),{c(){Q(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,r){$(e,n,r),l=!0},p(n,r){t=n;const s={};r&8&&(s.token=t[12]),r&12&&(s.hovered=t[2]===t[12]),r&11&&(s.searched=ce(t[12],t[0],t[1],!0)),e.$set(s)},i(n){l||(w(e.$$.fragment,n),l=!0)},o(n){O(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function ge(t){let e,l,a,n=te(t[9]),r=[];for(let o=0;o<n.length;o+=1)r[o]=ve(me(t,n,o));const s=o=>O(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=I(),l=m("br")},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);e=q(o),l=v(o,"BR",{})},m(o,i){for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(o,i);B(o,e,i),B(o,l,i),a=!0},p(o,i){if(i&63){n=te(o[9]);let c;for(c=0;c<n.length;c+=1){const f=me(o,n,c);r[c]?(r[c].p(f,i),w(r[c],1)):(r[c]=ve(f),r[c].c(),w(r[c],1),r[c].m(e.parentNode,e))}for(Ee(),c=n.length;c<r.length;c+=1)s(c);Ce()}},i(o){if(!a){for(let i=0;i<n.length;i+=1)w(r[i]);a=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)O(r[i]);a=!1},d(o){o&&(T(e),T(l)),ke(r,o)}}}function Ue(t){let e,l,a=te(t[3]),n=[];for(let s=0;s<a.length;s+=1)n[s]=ge(pe(t,a,s));const r=s=>O(n[s],1,1,()=>{n[s]=null});return{c(){e=m("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=v(s,"DIV",{class:!0});var o=S(e);for(let i=0;i<n.length;i+=1)n[i].l(o);o.forEach(T),this.h()},h(){h(e,"class","text-section svelte-kdyn13")},m(s,o){B(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);l=!0},p(s,[o]){if(o&63){a=te(s[3]);let i;for(i=0;i<a.length;i+=1){const c=pe(s,a,i);n[i]?(n[i].p(c,o),w(n[i],1)):(n[i]=ge(c),n[i].c(),w(n[i],1),n[i].m(e,null))}for(Ee(),i=a.length;i<n.length;i+=1)r(i);Ce()}},i(s){if(!l){for(let o=0;o<a.length;o+=1)w(n[o]);l=!0}},o(s){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)O(n[o]);l=!1},d(s){s&&T(e),ke(n,s)}}}function ce(t,e,l,a=!1){if(e==""&&a)return!1;switch(l){case"full":return t===e;case"part":return t.indexOf(e)>=0;case"prefix":return t.startsWith(e);case"suffix":return t.endsWith(e)}}function Me(t,e,l){const a=e.trim();let n=[],r=[];return t.forEach(s=>{r.push(s),s.indexOf(".")>=0&&((a==""||r.find(o=>ce(o,a,l)))&&n.push(r),r=[])}),r.length>0&&n.push(r),n}function je(t,e,l){let a;ye(t,We,p=>l(6,a=p));const n=be();let{searchText:r=""}=e,{searchType:s}=e,o=null;function i(p){l(2,o=p.detail)}function c(p){console.log(p),n("dblClickWord",p)}let f;const u=p=>c(p);return t.$$set=p=>{"searchText"in p&&l(0,r=p.searchText),"searchType"in p&&l(1,s=p.searchType)},t.$$.update=()=>{t.$$.dirty&67&&l(3,f=Me(a,r,s))},[r,s,o,f,i,c,a,u]}class He extends z{constructor(e){super(),Y(this,e,je,Ue,X,{searchText:0,searchType:1})}}function Fe(t){let e,l,a,n;return{c(){e=m("div"),l=m("textarea"),this.h()},l(r){e=v(r,"DIV",{class:!0});var s=S(e);l=v(s,"TEXTAREA",{class:!0,placeholder:!0}),S(l).forEach(T),s.forEach(T),this.h()},h(){h(l,"class","dictionary-area svelte-13ktfmg"),h(l,"placeholder","じしょ\r翻訳前 翻訳後\rの形式で改行区切りで入れる\r間はスペースっぽいものならタブや複数でも可"),h(e,"class","dictionary-section svelte-13ktfmg")},m(r,s){B(r,e,s),d(e,l),N(l,t[0]),t[4](l),a||(n=W(l,"input",t[3]),a=!0)},p(r,[s]){s&1&&N(l,r[0])},i:j,o:j,d(r){r&&T(e),t[4](null),a=!1,n()}}}function Ke(t,e,l){let a=localStorage.getItem("Kaidic_dict")??"";function n(c){localStorage.setItem("Kaidic_dict",c);let f=we(c);Ie.set(f),console.log(f)}let r;function s(c){const f=Ne(a),u=f.findIndex(U=>U[0]===c),p=r.scrollHeight/f.length;u>=0&&r.scrollTo(0,u*p-1)}function o(){a=this.value,l(0,a)}function i(c){ee[c?"unshift":"push"](()=>{r=c,l(1,r)})}return t.$$.update=()=>{t.$$.dirty&1&&n(a)},[a,r,s,o,i]}class Re extends z{constructor(e){super(),Y(this,e,Ke,Fe,X,{focusWord:2})}get focusWord(){return this.$$.ctx[2]}}function Xe(t){let e,l,a,n,r,s,o="文を単語でフィルタする:",i,c,f,u,p,U="部分一致",H,g,_,b,A="完全一致",F,y,ne,P,ue="前方一致",se,k,re,V,he="後方一致",le,E,ae,K,oe,ie,fe;return oe=De(t[4][0]),{c(){e=m("footer"),l=m("div"),a=I(),n=m("nav"),r=m("div"),s=m("label"),s.textContent=o,i=I(),c=m("input"),f=I(),u=m("fieldset"),p=m("label"),p.textContent=U,H=I(),g=m("input"),_=I(),b=m("label"),b.textContent=A,F=I(),y=m("input"),ne=I(),P=m("label"),P.textContent=ue,se=I(),k=m("input"),re=I(),V=m("label"),V.textContent=he,le=I(),E=m("input"),ae=I(),K=m("div"),this.h()},l(D){e=v(D,"FOOTER",{class:!0});var L=S(e);l=v(L,"DIV",{class:!0}),S(l).forEach(T),a=q(L),n=v(L,"NAV",{class:!0});var G=S(n);r=v(G,"DIV",{});var J=S(r);s=v(J,"LABEL",{for:!0,"data-svelte-h":!0}),R(s)!=="svelte-1kqdm8q"&&(s.textContent=o),i=q(J),c=v(J,"INPUT",{type:!0,id:!0,class:!0}),J.forEach(T),f=q(G),u=v(G,"FIELDSET",{class:!0});var C=S(u);p=v(C,"LABEL",{for:!0,"data-svelte-h":!0}),R(p)!=="svelte-193flb9"&&(p.textContent=U),H=q(C),g=v(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),_=q(C),b=v(C,"LABEL",{for:!0,"data-svelte-h":!0}),R(b)!=="svelte-1we780c"&&(b.textContent=A),F=q(C),y=v(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),ne=q(C),P=v(C,"LABEL",{for:!0,"data-svelte-h":!0}),R(P)!=="svelte-v6622j"&&(P.textContent=ue),se=q(C),k=v(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),re=q(C),V=v(C,"LABEL",{for:!0,"data-svelte-h":!0}),R(V)!=="svelte-cforw3"&&(V.textContent=he),le=q(C),E=v(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),C.forEach(T),G.forEach(T),ae=q(L),K=v(L,"DIV",{class:!0}),S(K).forEach(T),L.forEach(T),this.h()},h(){h(l,"class","corner svelte-41yqi3"),h(s,"for","searchText"),h(c,"type","text"),h(c,"id","searchText"),h(c,"class","svelte-41yqi3"),h(p,"for","searchType1"),h(g,"type","radio"),h(g,"id","searchType1"),h(g,"name","searchType"),g.__value="part",N(g,g.__value),g.checked=!0,h(g,"class","svelte-41yqi3"),h(b,"for","searchType2"),h(y,"type","radio"),h(y,"id","searchType2"),h(y,"name","searchType"),y.__value="full",N(y,y.__value),h(y,"class","svelte-41yqi3"),h(P,"for","searchType3"),h(k,"type","radio"),h(k,"id","searchType3"),h(k,"name","searchType"),k.__value="prefix",N(k,k.__value),h(k,"class","svelte-41yqi3"),h(V,"for","searchType4"),h(E,"type","radio"),h(E,"id","searchType4"),h(E,"name","searchType"),E.__value="suffix",N(E,E.__value),h(E,"class","svelte-41yqi3"),h(u,"class","radioset svelte-41yqi3"),h(n,"class","svelte-41yqi3"),h(K,"class","corner svelte-41yqi3"),h(e,"class","svelte-41yqi3"),oe.p(g,y,k,E)},m(D,L){B(D,e,L),d(e,l),d(e,a),d(e,n),d(n,r),d(r,s),d(r,i),d(r,c),N(c,t[0]),d(n,f),d(n,u),d(u,p),d(u,H),d(u,g),g.checked=g.__value===t[1],d(u,_),d(u,b),d(u,F),d(u,y),y.checked=y.__value===t[1],d(u,ne),d(u,P),d(u,se),d(u,k),k.checked=k.__value===t[1],d(u,re),d(u,V),d(u,le),d(u,E),E.checked=E.__value===t[1],d(e,ae),d(e,K),ie||(fe=[W(c,"input",t[2]),W(g,"change",t[3]),W(y,"change",t[5]),W(k,"change",t[6]),W(E,"change",t[7])],ie=!0)},p(D,[L]){L&1&&c.value!==D[0]&&N(c,D[0]),L&2&&(g.checked=g.__value===D[1]),L&2&&(y.checked=y.__value===D[1]),L&2&&(k.checked=k.__value===D[1]),L&2&&(E.checked=E.__value===D[1])},i:j,o:j,d(D){D&&T(e),oe.r(),ie=!1,Te(fe)}}}function ze(t,e,l){let{searchText:a=""}=e,{searchType:n="part"}=e;const r=[[]];function s(){a=this.value,l(0,a)}function o(){n=this.__value,l(1,n)}function i(){n=this.__value,l(1,n)}function c(){n=this.__value,l(1,n)}function f(){n=this.__value,l(1,n)}return t.$$set=u=>{"searchText"in u&&l(0,a=u.searchText),"searchType"in u&&l(1,n=u.searchType)},[a,n,s,o,r,i,c,f]}class Ye extends z{constructor(e){super(),Y(this,e,ze,Xe,X,{searchText:0,searchType:1})}}function Ge(t){let e,l,a,n,r,s,o,i,c,f,u;n=new He({props:{searchText:t[1],searchType:t[2]}}),n.$on("dblClickWord",t[3]);let p={};s=new Re({props:p}),t[4](s);function U(_){t[5](_)}function H(_){t[6](_)}let g={};return t[1]!==void 0&&(g.searchText=t[1]),t[2]!==void 0&&(g.searchType=t[2]),i=new Ye({props:g}),ee.push(()=>_e(i,"searchText",U)),ee.push(()=>_e(i,"searchType",H)),{c(){e=m("meta"),l=I(),a=m("section"),Q(n.$$.fragment),r=I(),Q(s.$$.fragment),o=I(),Q(i.$$.fragment),this.h()},l(_){const b=Se("svelte-10idiqd",document.head);e=v(b,"META",{name:!0,content:!0}),b.forEach(T),l=q(_),a=v(_,"SECTION",{class:!0});var A=S(a);Z(n.$$.fragment,A),r=q(A),Z(s.$$.fragment,A),o=q(A),Z(i.$$.fragment,A),A.forEach(T),this.h()},h(){document.title="Home",h(e,"name","description"),h(e,"content","kaidic"),h(a,"class","svelte-3hu3i5")},m(_,b){d(document.head,e),B(_,l,b),B(_,a,b),$(n,a,null),d(a,r),$(s,a,null),d(a,o),$(i,a,null),u=!0},p(_,[b]){const A={};b&2&&(A.searchText=_[1]),b&4&&(A.searchType=_[2]),n.$set(A);const F={};s.$set(F);const y={};!c&&b&2&&(c=!0,y.searchText=_[1],de(()=>c=!1)),!f&&b&4&&(f=!0,y.searchType=_[2],de(()=>f=!1)),i.$set(y)},i(_){u||(w(n.$$.fragment,_),w(s.$$.fragment,_),w(i.$$.fragment,_),u=!0)},o(_){O(n.$$.fragment,_),O(s.$$.fragment,_),O(i.$$.fragment,_),u=!1},d(_){_&&(T(l),T(a)),T(e),x(n),t[4](null),x(s),x(i)}}}function Je(t,e,l){let a;function n(f){a.focusWord(f.detail)}let r,s;function o(f){ee[f?"unshift":"push"](()=>{a=f,l(0,a)})}function i(f){r=f,l(1,r)}function c(f){s=f,l(2,s)}return[a,r,s,n,o,i,c]}class tt extends z{constructor(e){super(),Y(this,e,Je,Ge,X,{})}}export{tt as component,et as universal};
